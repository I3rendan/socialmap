@import fonts
@import variables
@import icons
@import animations

html
  height: 100%

body
  background: $color-lightest
  font-family: 'connectionsregular'
  font-size: 14px
  margin: 0
  padding: 0

  *, *:before
    box-sizing: border-box

h1, h2, h3, h4, h5
  font-weight: normal
  text-shadow: 0 -1px 0 rgba(0,0,0,0.08)

#map-container.zoomed
  #map-regions, #map-regions-US
    transform: scale(1.5,1.5) translateY(1em)

#map-regions
  display: inline-block
  width: 100%
  position: relative
  top: -2.5em
  height: 100vh
  transition: transform ease $trans-speed $trans-speed / 4

  svg
    overflow: visible !important

#map-regions-US
  position: absolute
  top: 1em
  left: 0
  width: 100%
  height: 100%
  opacity: 0
  z-index: -1

  svg
    overflow: visible !important

#map-regions2
  position: absolute
  top: 5.275em
  left: -4.25em
  transform: scale(0.227, 0.227)

.container-wrap
  display: block
  position: absolute
  width: 100%
  height: 100%
  overflow: hidden
  box-shadow: 0 2px 4px rgba(0,0,0,0.15)

.map-wrap
  float: left
  width: 72.5%
  z-index: 0
  position: relative

  > h1
    margin: 0
    padding: 0.33em 0.5em 0.33em 0.75em
    color: $color-white
    position: absolute
    z-index: 2
    text-shadow: 0 1px 2px rgba(0,0,0,0.15)
    font-size: 2.25vw
    background: $color-primary

    &:after
      content: ""
      position: absolute
      left: calc(100% - 0.25em)
      border-top: 0.95em solid $color-primary
      border-right: 0.95em solid transparent
      border-bottom: 0.95em solid transparent
      border-left: 0.95em solid $color-primary
      transform: scaleX(0.75)
      top: 0

  > h2
    position: absolute
    bottom: 0
    right: 0
    color: $color-white
    background: $color-secondary
    margin: 0
    padding: 0.33em 1em 0.33em 0.5em
    z-index: 2
    text-shadow: 1px -1px 2px rgba(0,0,0,0.15)
    font-size: 1.75vw

    &:after
      content: ""
      position: absolute
      right: calc(100% - 0.25em)
      border-top: 0.95em solid transparent
      border-right: 0.95em solid $color-secondary
      border-bottom: 0.95em solid $color-secondary
      border-left: 0.95em solid transparent
      transform: scaleX(0.75)
      top: 0

  // #map-container
  //   animation: map-zoomIn $animate-speed
  //   -webkit-animation: map-zoomIn $animate-speed
  //   -moz-animation: map-zoomIn $animate-speed

  // path#path171
  //   animation: item-hit $animate-speed
  //   -webkit-animation: item-hit $animate-speed
  //   -moz-animation: item-hit $animate-speed

  .map-pin
    position: absolute
    height: 1em
    width: 1em
    left: 0
    right: 0
    top: 0
    bottom: 0
    font-size: 4em
    margin: auto
    opacity: 0
    z-index: -1
    // animation: pin-drop $animate-speed
    // -webkit-animation: pin-drop $animate-speed
    // -moz-animation: pin-drop $animate-speed

    &:after
      position: absolute
      top: 100%
      background: rgba(0,0,0,0.33)
      height: 0.25em
      width: 0.67em
      border-radius: 50%
      top: 0.8em
      left: 0.175em
      content: ""
      z-index: 0
      filter: blur(1px)

    .icon
      color: $color-primary
      position: relative
      z-index: 1

    .map-pin-count
      position: absolute
      padding: 0.25em
      top: 0.725em
      left: 1.4em
      border-radius: 50%
      background: $color-white
      font-size: 0.225em
      z-index: 1

      > p
        padding: 0
        margin: 0
        color: $color-primary

// #map-container, #map-container-usa
//   svg path
//     stroke: $color-lightest !important
//     fill: darken($color-light, 4%) !important

// #map-container
//   display: inline-block
//   height: 100vh
//   width: 100%
//   position: relative


//   .datamaps-subunits
//     position: relative
//     display: block

//   .datamaps-subunit.USA
//     //display: none

//   svg path
//     position: relative

//     &.CHN, &.BRA
//       fill: #011669 !important

//     &.AUS, &.SDN, &.ARG, &.DZA
//       fill: #0052c2 !important

//     &.CAN, &.SAU, &.IND, &.FRA
//       fill: #0073cf !important



// #map-container-usa
//   position: relative

//   svg
//     position: absolute
//     height: 100vh
//     width: 100%
//     z-index: 4
//     top: 0
//     left: 0
//     transform: scale(0.217, 0.17) rotate(1deg)
//     left: -15.4em
//     top: -1.3em
//     overflow: visible !important

//     path
//       stroke-width: 2 !important

//       &.AK
//         display: none
      
//       &.SC, &.FL, &.KA, &.OK, &.IL, &.NM, &.AZ, &.ID
//         fill: #011669 !important

//       &.MA, &.VA, &.NC, &.ND, &.WI
//         fill: #0052c2 !important

//       &.TX, &.CA, &.WY, &.NV
//         fill: #0073cf !important


.social-wrap
  height: 100%
  width: 27.5%
  position: absolute
  right: 0
  top: 0
  z-index: 1
  box-shadow: -2px 0 4px rgba(0,0,0,0.25)
  background: $color-white

.social-outer
  top: 0
  height: 67%
  box-shadow: 0 1px 2px rgba(0,0,0,0.15)
  overflow: hidden
  position: relative

  &:after
    content: ""
    position: absolute
    left: 0
    top: 0
    height: 100%
    width: 100%
    background: -moz-linear-gradient(top,  rgba(255,255,255,0) 0%, rgba(255,255,255,0) 80%, rgba(255,255,255,1) 95%)
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(255,255,255,0)), color-stop(80%,rgba(255,255,255,0)), color-stop(95%,rgba(255,255,255,1)))
    background: -webkit-linear-gradient(top,  rgba(255,255,255,0) 0%,rgba(255,255,255,0) 80%,rgba(255,255,255,1) 95%)
    background: -o-linear-gradient(top,  rgba(255,255,255,0) 0%,rgba(255,255,255,0) 80%,rgba(255,255,255,1) 95%)
    background: -ms-linear-gradient(top,  rgba(255,255,255,0) 0%,rgba(255,255,255,0) 80%,rgba(255,255,255,1) 95%)
    background: linear-gradient(to bottom,  rgba(255,255,255,0) 0%,rgba(255,255,255,0) 80%,rgba(255,255,255,1) 95%)
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00ffffff', endColorstr='#ffffff',GradientType=0 )
    z-index: 2

  .social-item
    width: 100%
    color: $color-dark * 3
    opacity: 1
    position: relative
    display: block
    text-align: left
    box-shadow: 0 1px 2px rgba(0,0,0,0.15)

    &.social-twitter
      .social-name > p
        color: $color-twitter

        >span
          display: block

        > span:before
          content: "@"

      .social-icon
        color: $color-twitter

    &.social-facebook
      .social-name > p
        color: $color-facebook

      .social-icon
        color: $color-facebook

    &.social-instagram
      .social-name > p
        color: $color-instagram

      .social-icon
        color: $color-instagram

    &.social-custom
      .social-name > p
        color: $color-primary

      .social-icon
        color: $color-primary

  .social-inner
    display: inline-block
    padding: 1.5em
    margin: 0.25em 0
    width: 100%
    font-size: 0.925em

  .social-img
    width: 3em
    float: left
    vertical-align: top

    img
      width: 100%
      border-radius: $border-radius
      overflow: hidden
      box-shadow: 0 1px 2px rgba(0,0,0,0.15)

  .social-name
    float: left
    width: calc(100% - 3em)
    position: relative
    z-index: 1

    > p
      display: inline-block
      width: calc(100% - 1em)
      font-size: 1.05em
      margin: 0.33em 0 0.425em 1em
      line-height: 1.33

      > span
        color: $color-dark * 3
        font-size: 0.925em
        display: none

  .social-post
    float: left
    width: 100%

    > p
      font-size: 1.05em
      line-height: 1.25

  .social-icon
    position: absolute
    right: 0.33em
    top: 0.33em
    font-size: 1.75em
    color: darken($color-primary-dark, 12.5%)
    z-index: 0
    text-shadow: 0 1px 0 fade-out($color-white, 0.925)

.social-bottom
  bottom: 0
  height: 33%
  background: $color-lighter

  > img
    width: 100%
  
  .google-chart
    display: inline-block
    width: 100%
    margin-top: -0.67em
    margin-left: 0.67em

    svg
      width: 100%
      height: 100%
      display: inline-block

